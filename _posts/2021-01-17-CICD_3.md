---
title: "CI/CD를 해보자 (3) - Github Actions를 통한 재사용가능한 actions 만들기"
date: 2021-01-17 21:34:00 -0400
fontsize: 10pt
categories: dev
---

<br>

앞서 만든 나만의 workflow는 크게 두 가지 step으로 정의할 수 있다. 첫번째는 원하는 환경에서의 Node.js test 코드 실행이고, 두번째는 Docker image를 빌드 한 후 푸시하는 것이다.  
  
Node.js의 테스트 코드를 실행하는 step은 여러 workflow에서 반복적으로 사용될 수 있는 부분이다. 이 부분을 재사용가능한 step으로 만들어서 어느 workflow에서든 사용할 수 있게 할 수 있다. 앞선  workflow를 정의한 .yml파일에서 `uses: actions/checkout@v2` 같은 구문이 바로 이 재사용가능한 action을 사용하는 부분이다.  
  
Github Actions에서는 이런것을 [composite run steps action](https://docs.github.com/en/actions/creating-actions/creating-a-composite-run-steps-action) 이라고 한다. 앞서 작업하던 프로젝트 디렉토리의 .github 디렉토리 안에 actions라는 디렉토리를 만들고 action.yml 이라는 파일을 만들어 주고 다음처럼 기본적인 내용을 작성해준다.  

**.github/actions/action.yml**
~~~yml
name: 'Test Node.js'
description: 'Run jacascript test code using Node.js'
~~~